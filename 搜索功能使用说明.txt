# 日历应用AI助手搜索功能使用说明

## 功能说明
AI助手现已集成联网搜索功能，可以通过Search1API获取实时信息。

## 触发方式
支持多种搜索前缀格式：
- **中文搜索**：以"搜索"开头，如"搜索今天广州天气"
- **英文搜索**：以"search"开头，如"search weather in Guangzhou today"
- **带冒号格式**：支持"搜索:"或"search:"前缀

## 使用示例
- 搜索今天广州天气
- 搜索最新科技新闻
- 搜索2024年奥运会
- search latest stock market news
- 搜索:Python编程教程

## 注意事项
1. **必须包含搜索前缀**：消息必须以"搜索"或"search"开头
2. **网络要求**：需要稳定的互联网连接
3. **结果限制**：每次返回最多10条相关结果
4. **响应时间**：搜索可能需要3-5秒完成

## 故障排除
如果搜索功能无法正常工作：
1. 检查网络连接是否正常
2. 确认消息以"搜索"或"search"开头
3. 查看终端输出中的调试信息
4. 尝试使用测试脚本：python test_search.py

## 技术细节
- **API提供商**：Search1API
- **搜索服务**：Google搜索集成
- **结果格式**：标题、URL、摘要
- **超时设置**：10秒
- **结果限制**：最多10条


### 1. Brave Search API  
- **特点**：Google 级质量、无广告、支持 JSON + 摘要片段  
- **免费额度**：每月 2 000 次查询（QPS 5）  
- **申请**：https://api.search.brave.com/app/dashboard → Sign up → 生成 key  
- **curl 示例**  
```bash
curl -H "X-Subscription-Token: YOUR_BRAVE_API_KEY" \
     "https://api.search.brave.com/res/v1/web/search?q=gpt-4o+release+date&count=10"
```
- **返回字段**：`title, url, description, age, language` 等

---

### 2. Bing Web Search v7（Microsoft Azure 认知服务）  
- **特点**：微软自家 Bing 索引，支持安全搜索、mkt 地域限制  
- **免费额度**：F0 层每月 3 000 次（QPS 3）  
- **申请**：Azure Portal → 创建「Bing Search v7」资源 → 选 F0 → 拿 Key  
- **curl 示例**  
```bash
curl "https://api.bing.microsoft.com/v7.0/search?q=quantum+computer+news&mkt=en-US" \
     -H "Ocp-Apim-Subscription-Key: YOUR_BING_KEY"
```

### 3. Jina.ai Reader Search  
- **特点**：标榜「给 LLM 用的搜索引擎」，直接返回纯净 Markdown；支持中文  
- **免费额度**：无需注册，默认 200 req/day；注册后可申请 10 000 req/day  
- **curl 示例**  
```bash
curl "https://s.jina.ai/q=上海天气怎么样"
```
### 4. You.com API（自建索引+实时抓取）  
- **免费额度**：每月 1 000 次（需邮件申请 developer key）  
- **申请**：https://platform.you.com → Join Waitlist → 收到 key  
- **curl 示例**  
```bash
curl "https://api.ydc-index.io/search?query=2024+eclipse+path" \
     -H "X-API-Key: YOUR_YDC_KEY"
```

---

### 5. Tavily Search（专为 RAG 设计）  
- **特点**：返回「question_focused_snippet」，可直接喂给 LLM  
- **免费额度**：每月 1 000 次（注册即送）  
- **申请**：https://tavily.com → Dashboard → 生成 key  
- **curl 示例**  
```bash
curl -X POST https://api.tavily.com/search \
     -H "Content-Type: application/json" \
     -d '{"api_key":"YOUR_TAVILY_KEY","query":"OpenAI o1 model release","max_results":3}'
```

---